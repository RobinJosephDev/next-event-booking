{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///var/www/html/Robin/next-event-booking/frontend/src/components/BookingCard.tsx"],"sourcesContent":["import { FC } from \"react\";\n\ninterface BookingCardProps {\n  eventTitle: string;\n  eventDate: string;\n  ticketsBooked: number;\n  status: string;\n}\n\nconst BookingCard: FC<BookingCardProps> = ({ eventTitle, eventDate, ticketsBooked, status }) => {\n  return (\n    <div className=\"border p-4 rounded shadow-md mb-4\">\n      <h3 className=\"text-lg font-bold\">{eventTitle}</h3>\n      <p>Date: {new Date(eventDate).toLocaleDateString()}</p>\n      <p>Tickets: {ticketsBooked}</p>\n      <p>Status: <span className={status === \"confirmed\" ? \"text-green-600\" : \"text-red-600\"}>{status}</span></p>\n    </div>\n  );\n};\n\nexport default BookingCard;\n"],"names":[],"mappings":";;;;;;AASA,MAAM,cAAoC,CAAC,EAAE,UAAU,EAAE,SAAS,EAAE,aAAa,EAAE,MAAM,EAAE;IACzF,qBACE,qOAAC;QAAI,WAAU;;0BACb,qOAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,qOAAC;;oBAAE;oBAAO,IAAI,KAAK,WAAW,kBAAkB;;;;;;;0BAChD,qOAAC;;oBAAE;oBAAU;;;;;;;0BACb,qOAAC;;oBAAE;kCAAQ,qOAAC;wBAAK,WAAW,WAAW,cAAc,mBAAmB;kCAAiB;;;;;;;;;;;;;;;;;;AAG/F;KATM;uCAWS"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///var/www/html/Robin/next-event-booking/frontend/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport BookingCard from \"../../components/BookingCard\";\n\ninterface Booking {\n  id: number;\n  title: string;\n  date: string;\n  tickets_booked: number;\n  status?: string; // optional\n}\n\nconst DashboardPage = () => {\n  const [bookings, setBookings] = useState<Booking[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchBookings = async () => {\n    try {\n      const userStr = localStorage.getItem(\"user\");\n      const token = localStorage.getItem(\"token\");\n\n      if (!userStr || !token) {\n        console.error(\"No user/token found in localStorage\");\n        setLoading(false);\n        return;\n      }\n\n      const user = JSON.parse(userStr);\n\n      const res = await fetch(\n        `${process.env.NEXT_PUBLIC_API_URL}/api/bookings?userId=${user.id}`,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        },\n      );\n\n      if (!res.ok) {\n        console.error(\"Failed to fetch bookings\", res.status);\n        setLoading(false);\n        return;\n      }\n\n      const data = await res.json();\n      setBookings(data);\n      setLoading(false);\n    } catch (err) {\n      console.error(\"Error fetching bookings:\", err);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchBookings();\n  }, []);\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-2xl font-bold mb-6\">My Bookings</h1>\n\n      {loading ? (\n        <p>Loading bookings...</p>\n      ) : bookings.length === 0 ? (\n        <p className=\"text-gray-500\">No bookings found.</p>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {bookings.map((b) => (\n            <BookingCard\n              key={b.id}\n              eventTitle={b.title}\n              eventDate={new Date(b.date).toLocaleDateString()}\n              ticketsBooked={b.tickets_booked}\n              status={b.status || \"Pending\"} // fallback if missing\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DashboardPage;\n"],"names":[],"mappings":";;;;AA+BW;;AA7BX;AACA;;;AAHA;;;AAaA,MAAM,gBAAgB;;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,UAAU,aAAa,OAAO,CAAC;YACrC,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,IAAI,CAAC,WAAW,CAAC,OAAO;gBACtB,QAAQ,KAAK,CAAC;gBACd,WAAW;gBACX;YACF;YAEA,MAAM,OAAO,KAAK,KAAK,CAAC;YAExB,MAAM,MAAM,MAAM,MAChB,6DAAmC,qBAAqB,EAAE,KAAK,EAAE,EAAE,EACnE;gBACE,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;YACF;YAGF,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,QAAQ,KAAK,CAAC,4BAA4B,IAAI,MAAM;gBACpD,WAAW;gBACX;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,YAAY;YACZ,WAAW;QACb,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,WAAW;QACb;IACF;IAEA,IAAA,kNAAS;mCAAC;YACR;QACF;kCAAG,EAAE;IAEL,qBACE,qOAAC;QAAI,WAAU;;0BACb,qOAAC;gBAAG,WAAU;0BAA0B;;;;;;YAEvC,wBACC,qOAAC;0BAAE;;;;;2DACD,SAAS,MAAM,KAAK,kBACtB,qOAAC;gBAAE,WAAU;0BAAgB;;;;;yEAE7B,qOAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,kBACb,qOAAC,uLAAW;wBAEV,YAAY,EAAE,KAAK;wBACnB,WAAW,IAAI,KAAK,EAAE,IAAI,EAAE,kBAAkB;wBAC9C,eAAe,EAAE,cAAc;wBAC/B,QAAQ,EAAE,MAAM,IAAI;uBAJf,EAAE,EAAE;;;;;;;;;;;;;;;;AAWvB;GArEM;KAAA;uCAuES"}}]
}