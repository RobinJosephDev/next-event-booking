{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///var/www/html/Robin/next-event-booking/frontend/src/app/events/%5Bid%5D/book/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter, useParams } from \"next/navigation\";\nimport toast from \"react-hot-toast\";\n\nexport default function BookEventPage() {\n  const router = useRouter();\n  const params = useParams();\n  const id = params?.id;\n\n  const [tickets, setTickets] = useState(1);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!id) return;\n\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      toast.error(\"User not logged in\");\n      return;\n    }\n\n    try {\n      const res = await fetch(\n        `${process.env.NEXT_PUBLIC_API_URL}/api/bookings`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify({\n            event_id: id,\n            tickets_booked: tickets,\n          }),\n        },\n      );\n\n      if (!res.ok) {\n        const errorData = await res.json();\n        throw new Error(errorData.message || \"Booking failed\");\n      }\n\n      toast.success(\"Booking successful! ðŸŽ‰\");\n      router.push(\"/\");\n    } catch (err: any) {\n      toast.error(err.message || \"Failed to book event. Please try again.\");\n      console.error(err);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto p-6 bg-white rounded-xl shadow mt-10\">\n      <h1 className=\"text-2xl font-bold mb-4\">Book Event</h1>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <input\n          type=\"number\"\n          placeholder=\"Number of tickets\"\n          value={tickets}\n          onChange={(e) => setTickets(Number(e.target.value))}\n          min={1}\n          className=\"w-full p-2 border rounded\"\n          required\n        />\n        <button type=\"submit\" className=\"btn-primary w-full\">\n          Book Now\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAyBW;;AAvBX;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,SAAS,IAAA,0LAAS;IACxB,MAAM,SAAS,IAAA,0LAAS;IACxB,MAAM,KAAK,QAAQ;IAEnB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,IAAI;QAET,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;YACV,6MAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAChB,6DAAmC,aAAa,CAAC,EACjD;gBACE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;oBACV,gBAAgB;gBAClB;YACF;YAGF,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,YAAY,MAAM,IAAI,IAAI;gBAChC,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI;YACvC;YAEA,6MAAK,CAAC,OAAO,CAAC;YACd,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAU;YACjB,6MAAK,CAAC,KAAK,CAAC,IAAI,OAAO,IAAI;YAC3B,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,qBACE,qOAAC;QAAI,WAAU;;0BACb,qOAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,qOAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,qOAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,OAAO,EAAE,MAAM,CAAC,KAAK;wBACjD,KAAK;wBACL,WAAU;wBACV,QAAQ;;;;;;kCAEV,qOAAC;wBAAO,MAAK;wBAAS,WAAU;kCAAqB;;;;;;;;;;;;;;;;;;AAM7D;GAjEwB;;QACP,0LAAS;QACT,0LAAS;;;KAFF"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///var/www/html/Robin/next-event-booking/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}